apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: tradehax-ingress
  namespace: default
  annotations:
    cert-manager.io/cluster-issuer: "letsencrypt-prod"
    nginx.ingress.kubernetes.io/rate-limit: "100"
spec:
  ingressClassName: nginx
  tls:
  - hosts:
    - tradehaxai.tech
    - tradehax.net
    secretName: tradehax-tls
  rules:
  - host: tradehaxai.tech
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: tradehax-service
            port:
              number: 80
  - host: tradehax.net
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: tradehax-service
            port:
              number: 80
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: tradehax-config
  namespace: default
data:
  NODE_ENV: "production"
  NEXT_PUBLIC_SITE_URL: "https://tradehaxai.tech"
  NEXT_PUBLIC_SOLANA_NETWORK: "mainnet-beta"
  NEXT_PUBLIC_SOLANA_RPC: "https://api.mainnet-beta.solana.com"
  HF_MODEL_ID: "mistralai/Mistral-7B-Instruct-v0.1"
  LLM_TEMPERATURE: "0.7"
  LLM_MAX_LENGTH: "512"
---
apiVersion: v1
kind: ResourceQuota
metadata:
  name: tradehax-quota
  namespace: default
spec:
  hard:
    requests.cpu: "2"
    requests.memory: "4Gi"
    limits.cpu: "4"
    limits.memory: "8Gi"
    pods: "10"
